<!DOCTYPE html>
<html>

<head>
    <title>Async Await API Example</title>
    <style>
        body {
            font-family: Arial;
            background: #f4f4f4;
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th,
        td {
            padding: 10px;
            border: 1px solid #ccc;
        }

        th {
            background: black;
            color: white;
        }
    </style>
</head>

<body>
    <h1>Api Data</h1>
    <table>
        <thead>
            <tr>
                <th>name</th>
                <th>address</th>
                <th>number</th>
                <th>id</th>
                <th>Delete</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody class="tcontent">
        </tbody>
    </table>
    <script>
        async function get_api() {
            try {
                let abc = await fetch("https://697865aecd4fe130e3d8baf1.mockapi.io/het");
                // console.log(abc);

                if (!abc.ok) {
                    throw new Error("Network response was not ok");
                }
                let data = await abc.json();
                // console.log(data);

                let tbody = document.querySelector(".tcontent ");
                data.forEach(user => {
                    let row = document.createElement("tr");
                    row.innerHTML = `
                    <td>${user.name}</td>
                    <td>${user.address}</td>
                    <td>${user.number}</td>
                    <td>${user.id}</td>
                    <td><button class="delete" onclick = "del()">Delete</button></td>
                    <td><button class="edit" onclick = "edi()">edit</button></td>
                    `
                    tbody.appendChild(row);
                });
                function del(){
                    let abcd = toString(prompt("enter the first value"));
                    data.forEach(user => {
                        if (user.id == abcd) {
                            let row = document.createElement("tr");
                            row.innerHTML = `
                            <td>${user.name}</td>
                            <td>${user.address}</td>
                            <td>${user.number}</td>
                            <td>${user.id}</td>
                            <td><button class="delete" onclick = "del()">Delete</button></td>
                            <td><button class="edit" onclick = "edi()">edit</button></td>
                            `
                     tbody.remove(row);
                        }
                    });
                }
            }
            catch (error) {
                console.log("ishue in data fatching");
            }
        };
        get_api()
    </script>
</body>

</html>